generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model lawyer {
  lawyer_id                 Int      @id @default(autoincrement())
  user_id                   Int      @unique
  profile_bio               String?
  specialization            String[]
  credentials_verified      Boolean? @default(false)
  verification_document_url String?  @db.VarChar(255)
  rating                    Decimal? @db.Decimal(2, 1)
  rating_count              Int?     @default(0)
  user                      user     @relation(fields: [user_id], references: [user_id], onDelete: Cascade, onUpdate: NoAction)
}

model user {
  user_id           Int       @id @default(autoincrement())
  user_type         String    @db.VarChar(50)
  first_name        String?   @db.VarChar(100)
  last_name         String?   @db.VarChar(100)
  email             String    @unique @db.VarChar(255)
  password_hash     String    @db.VarChar(255)
  phone_number      String?   @db.VarChar(20)
  business_name     String?   @db.VarChar(255)
  business_industry String?   @db.VarChar(255)
  created_at        DateTime? @default(now()) @db.Timestamp(6)
  updated_at        DateTime? @default(now()) @db.Timestamp(6)
  preferences       Json?
  lawyer            lawyer?
}
